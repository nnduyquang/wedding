$(document).ready(function(){function e(){var e=location.href,t=e.substring(0,e.indexOf("/",14));if(t.indexOf("http://localhost")!=-1){var e=location.href,i=location.pathname,n=e.indexOf(i),r=e.indexOf("/",n+1),a=e.substr(0,r);return a+"/"}return t+"/"}function t(){$.ajax({type:"POST",url:"services",data:{_token:n,data:"getimage"},success:function(t){var n,r=e();n+=" <option data-img-src='"+r+t[0]+"' data-img-alt='Page'1 value='1'>  Page 1  </option>";var a=1;for(i=1;i<t.length-1;i++)a+=i,n+=" <option data-img-src='"+r+t[i]+"' data-img-alt='Page'"+a+" value='"+a+"'>  Page "+a+"  </option>";n+=" <option data-img-src='"+r+t[t.length-1]+"' data-img-alt='Page'"+t.length+" value='"+t.length+"'>  Page "+t.length+"  </option>",$("#container-image .image-picker").html(n),$("select").imagepicker({clicked:function(){$("input[name='txticon']").val($(this).find("option[value='"+$(this).val()+"']").data("img-src").replace(r,"").replace(/^.*(\\|\/|\:)/,"")),$("input[name='srcIcon']").val($(this).find("option[value='"+$(this).val()+"']").data("img-src").replace(r,"")),$("input[name='fileName']").val($(this).find("option[value='"+$(this).val()+"']").data("img-src").replace(r,"").replace(/^.*(\\|\/|\:)/,""))}})}})}var n=$('meta[name="csrf-token"]').attr("content");$("#checkAll").change(function(){$("input:checkbox").prop("checked",$(this).prop("checked"))}),$("button#openUpdateModalService").click(function(){t(),$.ajax({type:"POST",url:"services",dataType:"json",data:{_token:n,data:"getDetailService",id:$(this).data("id")},success:function(e){e.success&&($("#submit-confirm-update input[name='txtsevice']").val(e.data.name),$("#submit-confirm-update input[name='srcIcon']").val(e.data.icon),$("#submit-confirm-update input[name='txticon']").val(e.data.icon.replace(/^.*(\\|\/|\:)/,"")),$("#submit-confirm-update input[name='txtorder']").val(e.data.order),$("#submit-confirm-update input[name='idService']").val(e.data.id_service))},error:function(e){alert("error")}}),$("#submit-confirm-update").modal()}),$("button#updateService").click(function(){var e=$("#submit-confirm-update input[name='txtsevice']").val(),t=$("#submit-confirm-update input[name='srcIcon']").val(),i=$("#submit-confirm-update input[name='txtorder']").val(),r=$("#submit-confirm-update input[name='idService']").val();$.ajax({type:"POST",url:"services",dataType:"json",data:{_token:n,data:"updateService",txtsevice:e,srcIcon:t,txtorder:i,id:r},success:function(e){e.success?location.reload():($("#submit-confirm-update .notics#errtxtService p").html(""),$("#submit-confirm-update .notics#errsrcIcon p").html(""),$("#submit-confirm-update .notics#errtxtService p").html(e.errors.txtsevice),$("#submit-confirm-update .notics#errsrcIcon p").html(e.errors.srcIcon),$("#submit-confirm-update .notics#errtxtorder p").html(e.errors.txtorder),$("#submit-confirm-update #errtxtService").fadeIn().delay(3e3).fadeOut(),$("#submit-confirm-update #errsrcIcon").fadeIn().delay(3e3).fadeOut(),$("#submit-confirm-update #errtxtorder").fadeIn().delay(3e3).fadeOut())},error:function(e){alert("zo error")}})}),$("button#openInsertModalService").click(function(){t(),$("#submit-confirm-insert input[name='txticon']").val(""),$("#submit-confirm-insert input[name='srcIcon']").val(""),$("#submit-confirm-insert input[name='fileName']").val(""),$("#submit-confirm-insert input[name='txtsevice']").val(""),$("#submit-confirm-insert input[name='txtorder']").val(""),$("#submit-confirm-insert").modal()}),$("button#insertService").click(function(){var e=$("#submit-confirm-insert input[name='txtsevice']").val(),t=$("#submit-confirm-insert input[name='srcIcon']").val(),i=$("#submit-confirm-insert input[name='txtorder']").val();$.ajax({type:"POST",url:"services",dataType:"json",data:{_token:n,data:"insertService",txtsevice:e,srcIcon:t,txtorder:i},success:function(e){e.success?location.reload():($("#submit-confirm-insert .notics#errtxtService p").html(""),$("#submit-confirm-insert .notics#errsrcIcon p").html(""),$("#submit-confirm-insert .notics#errtxtService p").html(e.errors.txtsevice),$("#submit-confirm-insert .notics#errsrcIcon p").html(e.errors.srcIcon),$("#submit-confirm-insert .notics#errtxtorder p").html(e.errors.txtorder),$("#submit-confirm-insert #errtxtService").fadeIn().delay(3e3).fadeOut(),$("#submit-confirm-insert #errsrcIcon").fadeIn().delay(3e3).fadeOut(),$("#submit-confirm-insert #errtxtorder").fadeIn().delay(3e3).fadeOut())},error:function(e){alert("zo error")}})}),$("button#deleteService").click(function(){var e=$("input:checkbox:checked").map(function(){return this.value}).toArray();$.ajax({type:"POST",url:"services",dataType:"json",data:{_token:n,data:"deleteService",checkboxlist:e},success:function(e){e.success&&location.reload()},error:function(e){alert("zo error")}})}),$("#openIconModalService").click(function(){$("#submit-confirm-icon").modal()}),$("#input-file").fileinput({allowedFileExtensions:["jpeg","jpg","png"],uploadAsync:!0,showUploadedThumbs:!1,uploadUrl:e()+"/sml_admin/services",uploadExtraData:{_token:n,data:"uploadImage"}}),$("#input-file").on("fileuploaded",function(e,t,i,n){t.form,t.files,t.extra,t.response.success,t.reader})}),$(document).ready(function(){function e(){var e=location.href,t=e.substring(0,e.indexOf("/",14));if(t.indexOf("http://localhost")!=-1){var e=location.href,i=location.pathname,n=e.indexOf(i),r=e.indexOf("/",n+1),a=e.substr(0,r);return a+"/"}return t+"/"}function t(){$.ajax({type:"POST",url:e()+"sml_admin/albums",dataType:"json",data:{_token:i,data:"getDirectory"},success:function(e){if(e.success){var t="",i=e.listfile;i.forEach(function(e){t+=" <option>"+e+"</option>"}),$("#ddAlbum").html(t)}},error:function(e){alert("zo error")}})}var i=$('meta[name="csrf-token"]').attr("content");$("#input-file-album").fileinput({allowedFileExtensions:["jpeg","jpg","png"],uploadAsync:!0,showUploadedThumbs:!1,uploadUrl:e()+"sml_admin/albums",uploadExtraData:function(e,t){var n=$("#submit-confirm-create-album input[name='albumname']").val(),r={_token:i,data:"uploadImage",albumname:n};return r}}),$("#input-file-album").on("fileuploaded",function(e,t,i,n){t.form,t.files,t.extra,t.response.success,t.reader}),$("#openModalCreateAlbum").click(function(){$("#submit-confirm-create-album").modal()}),$("#openModalChooseImage").click(function(){t(),$("#submit-confirm-choose-image").modal()})});